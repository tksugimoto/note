<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<link rel="icon" href="./icons/144.png">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="./js/install-service-worker.js"></script>
	<link rel="manifest" href="./manifest.json">
	<title>Share Page App</title>
	<style>
		.icon {
			height: 1em;
			vertical-align: middle;
		}
		button {
			cursor: pointer;
		}
	</style>
</head>
<body>
<h1>Android の共有を便利にするツール(Progressive web apps, PWA)</h1>

<h2>できること</h2>
ページタイトルを含めての共有・処理
<ul>
	<li>クリップボードにコピー</li>
	<li>別アプリに共有</li>
	<li>Twitterで共有</li>
	<li>Google カレンダーに登録</li>
	<li>タイトル で Google検索</li>
	<li>テキスト で Google検索</li>
	<li>[URL] hostname をコピ－</li>
	<li>[URL] pathname をコピ－</li>
	<li>[URL] query, hash を削除してコピ－</li>
</ul>

<h3>例</h3>
<a href="./share_target.html?title=Example%20Domain&text=https%3A%2F%2Fexample.com%2F" target="_blank">Share Page: Example Domain</a>

<h2>使い方</h2>
<ol>
	<li>(事前準備) このPWAをインストール (Android & Chrome で動作確認済み)</li>
	<li>共有からこのアプリ (<code>Share Page</code> <img class="icon" src="./icons/144.png">) を選択</li>
</ol>

<div style="display: none;" id="share-this-page-container">
	<h2>このアプリを共有</h2>
	<script>
	if (navigator.share) {
		const container = document.getElementById('share-this-page-container');
		container.style.display = '';
		const button = document.createElement('button');
		button.innerText = '共有する';
		button.addEventListener('click', () => {
			navigator.share({
				text: document.title,
				url: location.href,
			});
		});
		container.append(button);
	}
	</script>
</div>
</body>
